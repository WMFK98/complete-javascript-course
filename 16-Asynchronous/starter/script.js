'use strict';


const btn = document.querySelector('.btn-country');
const countriesContainer = document.querySelector('.countries');
//whereAmI v2
//=============================================
// const renderError = function (mag) {
//     countriesContainer.insertAdjacentText('beforeend', mag); // ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö‡∏≠‡∏¥‡∏ô‡πÄ‡∏™‡∏¥‡∏ä‡πÅ‡∏ï‡πà‡∏ß‡πà‡∏≤‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏≠‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏¢‡∏±‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÄ‡∏•‡∏¢
//     // countriesContainer.style.opacity = 1;
// }
// const getJSON = function (url, errMsg = 'Something went wrong') {
//     return fetch(url).then(response => { // ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á‡∏ñ‡πâ‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ function ‡∏Ç‡∏≠‡∏á then ‡πÑ‡∏î‡πâ
//         if (!response.ok) throw new Error(`${errMsg} (${response.status})`)
//         return response.json();
//     })

// }

// const getCountData = function (country) { // use arrow function 

//     getJSON(`https://restcountries.com/v2/name/${country}`)
//         .then(data => {
//             renderCountry(...data)
//             const neighbour = data[0].borders?.[0];
//             if (!neighbour) throw new Error('No neighbour found!')
//             //Country 2
//             return getJSON(`https://restcountries.com/v2/alpha/${neighbour}`)

//             // fetch(`https://restcountries.com/v2/alpha/${neighbour}`).then(respones => ) //‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö the hell ‡∏ô‡∏µ‡πà‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î ‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î‡πÑ‡∏õ‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ

//         })
//         // .then(respones => respones.json()) //‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≤‡∏á‡∏ô‡∏≠‡∏Å
//         .then(data => renderCountry(data, 'neighbour'))
//         .catch(err => {
//             console.error(err) //‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏≠‡∏ö‡∏™‡∏µ‡πÅ‡∏î‡∏á ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£ throw method ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏£‡∏π‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà catch ‡∏£‡∏±‡∏ö
//             renderError(`Something went wrong. ${err.message} Please try again.`)

//         })// ‡∏à‡∏±‡∏ö error ‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡πÉ‡∏ô‡∏´‡πà‡∏ß‡∏á‡πÇ‡∏ã‡πà
//         .finally(() => {
//             countriesContainer.style.opacity = 1; // ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏¥‡∏î‡∏Å‡πá‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏™‡∏°‡∏≠ ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞ do ‡∏ï‡∏•‡∏≠‡∏î
//         })
// }
// const renderCountry = function (data, className = '') {
//     const html = ` 
//     <article class="country ${className}">
//     <img class="country__img" src="${data.flags.png}" />
//     <div class="country__data">
//       <h3 class="country__name">${data.name}</h3>
//       <h4 class="country__region">${data.region}</h4>
//       <p class="country__row"><span>üë´</span>${(+data.population / 1000000).toFixed(1) + "M"} people</p>
//       <p class="country__row"><span>üó£Ô∏è</span>${data.languages[0].name}</p>
//       <p class="country__row"><span>üí∞</span>${data.currencies[0].name}</p>
//     </div>
//   </article>`;

//     // console.log(html);
//     countriesContainer.insertAdjacentHTML('beforeend', html)
//     // countriesContainer.style.opacity = 1;

// }

// ///////////////////////////////////////
// const getCountryAndNeighbour = function (country) {
//     const request = new XMLHttpRequest();// ‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ Api ‡∏ï‡πà‡∏≤‡∏á‡πÜ
//     request.open('GET', `https://restcountries.com/v2/name/${country}`)
//     request.send();// ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á
//     console.log("888", request.responseText); // ‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ß‡πà‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏¢‡∏±‡∏á ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏û‡∏≠‡∏î‡∏µ‡πÄ‡∏•‡∏¢‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô ‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á

//     request.addEventListener('load', function () { //load ‡∏Ñ‡∏∑‡∏≠‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡πá‡∏ï‡πà‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠ request ‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß
//         // console.log(this.responseText); //this ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á request
//         const [data] = JSON.parse(request.responseText); //[] ‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏ï‡∏Å‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
//         console.log(data);
//         renderCountry(data);

//         const [neighbour] = data.borders; //‡πÄ‡∏≠‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á array
//         console.log(neighbour);
//         if (!neighbour) return;

//         //AJAX call country 2 ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ö‡πâ‡∏≤‡∏ô
//         const request2 = new XMLHttpRequest();
//         request2.open('GET', `https://restcountries.com/v2/alpha/${neighbour}`)
//         request2.send();
//         // callback hell ‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ô code ‡∏ô‡∏£‡∏Å‡∏™‡∏±‡∏™‡πÜ
//         request2.addEventListener('load', function () {
//             const data2 = JSON.parse(this.responseText)
//             console.log(data2);
//             renderCountry(data2, 'neighbour');
//         })
//     })
// }


// getCountryAndNeighbour('usa')// ‡∏™‡∏¥‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö asynchrobos ‡∏ã‡∏∂‡πà‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ô‡∏´‡∏≤‡∏≠‡∏±‡∏ô‡πÅ‡∏£‡∏Å‡∏¢‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à 
// // getCountryData('usa')
// getCountryAndNeighbour('thai')

//=====================

// const request = fetch('https://restcountries.com/v2/name/usa')
// console.log(request);

// const getCountData = function (country) {
//     fetch(`https://restcountries.com/v2/name/${country}`).then(function (response) { //then ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡πà‡∏≠ ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô function ‡∏Ñ‡∏∑‡∏≠ ‡∏ú‡∏•‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤‡∏à
//         return response.json(); //joson ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö asycho ‡∏ï‡∏±‡πâ‡∏á‡∏ô‡πâ‡∏±‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ return ‡∏à‡∏∂‡∏á‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô promiss ‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö
//     }).then(function (data) {
//         console.log(data);
//         renderCountry(...data)
//     })

// }



// btn.addEventListener('click', function () {
//     getCountData('australia');
// });


//challenge 1 
// const whereAmI = function (lat, lng) {
//     fetch(`https://geocode.xyz/${lat},${lng}?geoit=json`)
//         .then(response => {
//             // console.log(response);
//             return response.json()
//         })
//         .then(data => {
//             if (!data.country) {
//                 console.error("Something went wrong! 403 please wait");
//                 whereAmI(lat, lng);
//                 return;
//             }
//             console.log(`You are in ${data.city},${data.country}`);
//             return data.country;
//         }).then(conuntry => getCountry(conuntry))
//         .catch(err => console.error(`Something went wrong! ${err}`))


// }
// const getCountry = function (country) {
//     fetch(`https://restcountries.com/v2/name/${country}`)
//         .then(response => response.json())
//         .then(data => {
//             console.log(data[0])
//             gennerateCountry(data[0])
//         });
// }

// const gennerateCountry = function (data) {
//     const html = `
//     <article class="country">
//         <img class="country__img" src="${data.flags.png}" />
//         <div class="country__data">
//           <h3 class="country__name">${data.name}</h3>
//           <h4 class="country__region">${data.region}</h4>
//           <p class="country__row"><span>üë´</span>${(+data.population / 1000000).toFixed(1)}M</p>
//           <p class="country__row"><span>üó£Ô∏è</span>${data.languages[0].name}</p>
//           <p class="country__row"><span>üí∞</span>${data.currencies[0].name}</p>
//         </div>
//       </article>
//     `
//     countriesContainer.insertAdjacentHTML('beforeend', html)
//     countriesContainer.style.opacity = 1;
// }




// whereAmI(52.508, 13.381);
// whereAmI(19.037, 72.873);
// whereAmI(-33.933, 18.474);

// //mirotask tes=======================
// console.log('Test start'); // 
// setTimeout(() => console.log('0 sec timer'), 0) //‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡πÑ‡∏î‡πâ‡πÑ‡∏õ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà callback queue
// Promise.resolve('Rsesolved promise 1').then(res => console.log(res))
// Promise.resolve('Resolved promise 2').then(res => { //‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á callback queue ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡πÑ‡∏õ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏™‡∏£‡πá‡∏à 
//     for (let i = 0; i < 10000000000; i++) { }
//     console.log(res);
// })
// console.log('Test end'); //‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö sycronous  ‡∏à‡∏∂‡∏á‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô


// //Building a Simple Promise========

// const lotteryPromise = new Promise(function (resolve, reject) { // ‡πÉ‡∏ô promise ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏™‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏î‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏±‡∏ö‡∏≠‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤
//     console.log('Lotter drow is happening');
//     setTimeout(function () {
//         if (Math.random() >= 0.5) {
//             resolve('You WIN')
//         } else {
//             reject(new Error('You lost your money')); //‡∏ñ‡πâ‡∏≤‡πÉ‡∏™‡πà Error ‡∏à‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏°‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÑ‡∏´‡∏ô 
//         }
//     }, 2000)

// })

// lotteryPromise.then(res => console.log(res)).catch(err => console.error(err));

const wait = function (seconds) {
    return new Promise(function (response) {
        setTimeout(response, seconds * 1000)
    })
}
// //
// // ‡∏î‡∏π‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡πÇ‡∏Ñ‡∏ï‡∏û‡∏µ‡∏£‡∏∞‡∏°‡∏¥‡∏î‡πÅ‡∏ö‡∏ö setTimeOut 
// wait(2)
//     .then(() => { // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ response‡∏Å‡πá‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏Å‡πá‡πÑ‡∏î‡πâ
//         console.log('I waited for 1 sec')
//         return wait(1); // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ return ‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ chaining ‡πÑ‡∏î‡πâ‡πÉ‡∏ô promise
//     })
//     .then(() => {
//         console.log('I waited for 2 sec');
//         return wait(1);
//     })
//     .then(() => {
//         console.log('I waited for 3 sec');
//         return wait(1);
//     })
//     .then(() => {
//         console.log('I waited for 4 sec');
//         return wait(1);
//     })

// Promise.resolve('abc').then(res => console.log(res)) // ‡∏™‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô
// Promise.reject(new Error('Is Problem')).catch(res => console.error(res)) // ‡∏Ñ‡∏±‡πà‡∏ß‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°

//Gelocation======================================


// const whereAmIV2 = function () { // ‡πÉ‡∏ä‡πâ gelocation
//     getPosition().then(pos => {
//         const { latitude: lat, longitude: lng } = pos.coords; //‡πÅ‡∏ó‡∏ô‡∏Ñ‡πà‡∏≤‡∏™‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÇ‡∏î‡∏¢‡πÄ‡∏≠‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏≤‡∏à‡∏≤‡∏Å Object; // ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏õ‡∏µ‡∏Å‡∏Å‡∏≤‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢ = ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
//         console.log(lat, lng);
//         return fetch(`https://geocode.xyz/${lat},${lng}?geoit=json`) // ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡∏≠‡∏±‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡πà‡∏≤‡∏á
//     })
//         .then(response => {
//             // console.log(response);
//             return response.json()
//         })
//         .then(data => {
//             if (!data.country) {
//                 console.error(new Error("Something went wrong! 403 please wait"));
//                 whereAmIV2();
//                 return;
//             }
//             console.log(`You are in ${data.city},${data.country}`);
//             return data.country;
//         }).then(conuntry => getCountry(conuntry))
//         .catch(err => console.error(`Something went wrong! ${err}`))


// }
// const getPosition = function () {
//     return new Promise(function (resolve, reject) {
//         navigator.geolocation.getCurrentPosition(resolve, reject);
//     })
// }
// const getCountry = function (country) {
//     fetch(`https://restcountries.com/v2/name/${country}`)
//         .then(response => response.json())
//         .then(data => {
//             console.log(data[0])
//             gennerateCountry(data[0])
//         });
// }
// const gennerateCountry = function (data) {
//     const html = `
//     <article class="country">
//         <img class="country__img" src="${data.flags.png}" />
//         <div class="country__data">
//           <h3 class="country__name">${data.name}</h3>
//           <h4 class="country__region">${data.region}</h4>
//           <p class="country__row"><span>üë´</span>${(+data.population / 1000000).toFixed(1)}M</p>
//           <p class="country__row"><span>üó£Ô∏è</span>${data.languages[0].name}</p>
//           <p class="country__row"><span>üí∞</span>${data.currencies[0].name}</p>
//         </div>
//       </article>
//     `
//     countriesContainer.insertAdjacentHTML('beforeend', html)
//     countriesContainer.style.opacity = 1;
// }

// getPosition().then(pos => console.log(pos));
// btn.addEventListener('click', whereAmIV2())

//====================================================

const img = document.querySelector('.images');
const createImage = function (imgPath) {
    return new Promise(function (resolve, reject) {
        const addImage = document.createElement('img')
        addImage.src = imgPath
        addImage.addEventListener('load', () => resolve(addImage)) // ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏£‡∏ñ‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏†‡∏≤‡∏û‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÑ‡∏õ‡πÄ‡∏•‡∏¢
        addImage.addEventListener('error', () => reject(`Image path:${imgPath} not found`)) // ‡πÑ‡∏ß‡πâ‡∏´‡∏≤‡∏ï‡∏≠‡∏ô‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡πÇ‡∏´‡∏•‡∏î
    })
        .then(response => {
            img.append(response)
            return wait(2).then(() => response);
        })

        .then(res => {
            res.style.display = 'none'
            console.log('end');
            return wait(2).then(() => res)
        }).catch(err => console.error(new Error(err)))
}

createImage('img/img-1.jpg').then(() => createImage('img/img-2.jpg')).then(() => createImage('img/img-3.jpg'));


